<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
    

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?bdb1040c84d1099df4260f523b993574";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65976888-1', 'auto');
  ga('send', 'pageview');

</script>

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.4"/>


    <meta name="description" content="Dawei 的记事本" />



  <meta name="keywords" content="Dawei,bioinformatics,Hexo,next" />



  <link rel="alternate" href="/atom.xml" title="东隅" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.4" />


<meta name="description" content="Dawei 的记事本">
<meta property="og:type" content="website">
<meta property="og:title" content="东隅">
<meta property="og:url" content="http://daweih.github.io/index.html">
<meta property="og:site_name" content="东隅">
<meta property="og:description" content="Dawei 的记事本">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="东隅">
<meta name="twitter:description" content="Dawei 的记事本">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

    <title> 东隅 </title>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="en">
<!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->




<div class="container one-column 
   page-home 
">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">东隅</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu menu-left">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-home"></i> <br />
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-tags"></i> <br />
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-categories"></i> <br />
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-archives"></i> <br />
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/About" rel="section">
            <i class="menu-item-icon icon-about"></i> <br />
            About
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
<form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'ricZEzHT8MphMSw7Mx1g','2.0.0');
</script>

<div class="site-search-toggle"></div>
    </div>
  
</nav>


        </div>
    </header>

    <main id="main" class="main">
        <div class="main-inner">
            <div id="content" class="content">
                
  <section id="posts" class="posts-expand">
    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/04/Coffee-Flavour-Wheel/" itemprop="url">
                移植，测试嵌入的 D3: Coffee Flavour Wheel
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-04T21:09:31+08:00" content="2015-08-04">
            2015-08-04
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/profession/" itemprop="url" rel="index"><span itemprop="name">profession</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/08/04/Coffee-Flavour-Wheel/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/04/Coffee-Flavour-Wheel/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>为了在 Hexo 系统的 <code>markdown</code> 正文中测试 <code>D3</code> 的可用性，移植了一个<code>咖啡风味轮</code>的可视化，如下：</p>
<h4 id="Coffee_Flavour_Wheel">Coffee Flavour Wheel</h4><script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<div align="center" id="vis" style="font-size:13pt;font-family:helvetica;zoom:0.4;"></div>
<script src="http://daweih.github.io/js/coffee_flavour_wheel.js" charset="utf-8"></script>
<script>
//    d3.select("div#vis").remove();
</script>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"</span> charset=<span class="string">"utf-8"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;div align=center id=<span class="string">"vis"</span> style=<span class="string">"font-size:13pt;font-family:helvetica;zoom:0.4;"</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=<span class="string">"http://daweih.github.io/js/coffee_flavour_wheel.js"</span> charset=<span class="string">"utf-8"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h4 id="代码注释：">代码注释：</h4><ul>
<li>第一行装载 <code>D3</code> 包。</li>
<li>第二行，插入绘图区域，这里的绘图区域是用 <code>div#viz</code> 来定位并操作</li>
<li>第三行，引用绘图用代码，保存在 <code>Hexo</code> 博客系统的 <code>js</code> 文件夹下，会被同步到 github。当然你也可以通过用 <code>&lt;script&gt;&lt;/script&gt;</code> 直接嵌入本页。个人更推荐单独存放，避免 markdown 页面太长。</li>
</ul>
<h4 id="编写小贴士">编写小贴士</h4><ul>
<li><strong>改动 <code>md</code> 文件后直接看效果：</strong>对 DOM 的 <code>attr</code> 和 <code>style</code> 编写，更改无需 <code>hexo d</code>, <code>hexo d</code>，就可以在 <code>hexo s</code> 开启状态的浏览器中查看。写可视化代码时候，需要经常看改动带来的变化，此时可以省去前述的两步。</li>
<li><strong>在 md 文件中编写并测试 <code>js</code> 代码：</strong>使用 <code>hexo s</code> 测试中，代码需要写在页面内测试。测试完毕后再移动到独立文件。因为 gihub 处的代码改动需要 <code>git commit</code>, <code>git push</code> 之后才会生效。如果每次改动后都进行前面 2 项操作，则无妨。这里的问题在于，<code>hexo s</code> 状态下，无法引用本地的文件。这个问题在图片的引用代码中，也是让人不爽。</li>
<li><strong>模块化：</strong>重复使用的 js 代码，尽量放在一处，引用到每个页面，减少维护的复杂度。</li>
</ul>
<p>目前，文章页面的 <code>CSS</code> 还是无法通过嵌入正文生效。需要 D3 直接写入 <code>DOM</code> 的属性。</p>
<p><code>D3</code> 在本站嵌入成功后，我就可以做一些可视化的学习笔记。这样，在笔记里面，就可以添加实时的演示了。</p>
<p>本次嵌入的可视化来自<a href="http://www.jasondavies.com/coffee-wheel/" target="_blank" rel="external">这里</a>。</p>
<h4 id="其他相关博文">其他相关博文</h4><ul>
<li><a href="http://daweih.github.io/2015/07/20/viz-of-chromosome/">一个染色体的可视化</a></li>
</ul>
<p><br></p>
<div align="center"><br><img src="http://daweih.github.io/images/wechat_small_black.jpg"><br></div>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/04/reading-note-Becoming-a-technical-leader/" itemprop="url">
                Reading note 1: Becoming a technical leader
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-04T18:17:05+08:00" content="2015-08-04">
            2015-08-04
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/reading/" itemprop="url" rel="index"><span itemprop="name">reading</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/08/04/reading-note-Becoming-a-technical-leader/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/04/reading-note-Becoming-a-technical-leader/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><div align="center"><br><img src="http://daweih.github.io/images/leader.jpg"><br></div>

<p>本书的好处，不再多说。可以看<a href="http://book.douban.com/review/6789847/" target="_blank" rel="external">这里</a>和<a href="http://blog.youxu.info/2015/05/17/tech-lead-1/" target="_blank" rel="external">这里</a>。</p>
<p>作为一个重度强迫症患者和整理狂人，读书要做的第一件事不言自明。</p>
<h3 id="优化博客的笔记系统">优化博客的笔记系统</h3><p>本书是我第一本认真去读的管理类书籍。本着不作就不会死的精神，配置个让自己舒坦的笔记系统。</p>
<h4 id="植入目录">植入目录</h4><p>使用了 <code>OmniOutliner</code> 来整理笔记，所以想直接嵌入到博客系统里。于是采用了 <code>iframe</code> 。</p>
<div align="center"><br><img src="http://daweih.github.io/images/omnioutliner.png"><br></div>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div align=center&gt;</span><br><span class="line">&lt;iframe scrolling=<span class="string">"value"</span> src=<span class="string">"http://daweih.github.io/js/becoming_a_technical_leader.html/index.html"</span> width=<span class="number">90</span>% height=<span class="number">450</span>px frameborder=<span class="string">"0"</span> scrolling=<span class="string">"yes"</span>&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>第 1 行：目录块在页面居中对齐</li>
<li>第 2 行：目录文件采用嵌入方式进入博客文章，其文件是 OmniOutliner 生成的动态 html。</li>
</ul>
<h4 id="优化效果">优化效果</h4><p>为了让目录的效果在不同设备上达到一样的水准，以便长期使用，做了一些优化，有以下几点：</p>
<ol>
<li><code>width</code> 采用了 <code>90%</code>是为了在 <code>iPad</code>、<code>iPhone</code> 和电脑上都有比较好的显示效果；<code>height</code> 采用固定高度，为了避免页面过长。</li>
<li><p>为了缩放之后，iframe 内容依然可以居中，在 <code>oo3</code> 转化的网页中 <code>table</code> 根处添加属性：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">table</span> <span class="attribute">align</span>=<span class="value">"center"</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>为了改进缩放，强制 oo3 转化的网页宽度为 <code>310px</code>，修改代码为:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">table</span><span class="class">.row</span> <span class="rules">&#123;</span><br><span class="line">						<span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">310px</span></span></span>;</span><br><span class="line">			</span><br><span class="line">			&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>得到的目录效果如下。</p>
<h3 id="本书目录">本书目录</h3><div align="center"><br><iframe scrolling="value" src="http://daweih.github.io/js/becoming_a_technical_leader.html/index.html" width="90%" height="450px" frameborder="0"></iframe><br></div>

<h3 id="本周进度">本周进度</h3><p>周四、五非常忙，以至于周二拿到的书，只两天拿出时间来看。</p>
<p>本书在前言中说：</p>
<blockquote>
<p>如果你真的希望提升行动力，应该首先制订计划，制订好计划之后应该按时执行……想要有时间做自己的事情，应当把一切事情保持在井然有序的状态……</p>
</blockquote>
<p>我的评论：</p>
<ul>
<li>阅读的质量还在其次，目前的要务还是要提高计划的执行度。</li>
<li>之前了解过的法国厨房标准操作流程，其原则的目的和“保持一切井然有序”的目的是一致的。</li>
</ul>
<p>读后，思考本周五的工作中，SOP 的问题也在于，流程繁琐，没有模块化，导致“保持一切井然有序”的操作步骤过多，时间成本升高。SOP 的文档写作不够清晰。对细节的记述不够详细。所以会依赖员工的<code>经验</code>。</p>
<p><code>经验</code>之类，如果没有<code>记录在案</code>，就不能流传。所以员工的遗忘，会造成额外的时间成本（二次培训、操作错误等）。解决方法无外乎：</p>
<ul>
<li>去掉需要<code>经验</code>的部分，将流程封装为黑匣子，减少可能出错的步骤。</li>
<li>将经验写入标准操作流程。</li>
</ul>
<p>显然后者，会给 SOP 的作者和读者都带来更多成本（写作、阅读、操作）。依据模块化的原则，第一种方法更可行。</p>
<h3 id="实践出真知">实践出真知</h3><p>工作的主要目标，还是要完成项目。但不改进流程，完成项目的水平难以提升，效率也难提高。</p>
<p>磨刀不误砍柴工的道理，看似浅显，但包含了短期效益和长期效益的博弈。从发展的视角看，打磨是长期规划中必不可少的部分。</p>
<p>井然有序，是控制狂人的标签。我被如此看待也是无奈。但对工作的优化与打磨还是要推行的。</p>
<h3 id="Reference">Reference</h3><ol>
<li><a href="http://book.douban.com/subject/1807715/" target="_blank" rel="external">Becoming a Technical Leader</a> by Gerald M. Weinberg</li>
<li><a href="http://book.douban.com/subject/26419762/" target="_blank" rel="external">成为技术领导者</a> by Gerald M. Weinberg, 译者: 余晟</li>
</ol>
<h3 id="题外话：在_OmniOutliner_中使用正则表达式">题外话：在 OmniOutliner 中使用正则表达式</h3><p>犯懒了，如图：</p>
<div align="center"><br><img src="http://daweih.github.io/images/omni_find.png"><br></div>

</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/02/tianjin-2-day/" itemprop="url">
                津门非主流游玩
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-02T19:48:22+08:00" content="2015-08-02">
            2015-08-02
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/08/02/tianjin-2-day/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/02/tianjin-2-day/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>周末去天津玩，按工作日通勤时间起床，一个小时的地铁，半个小时的火车，抵达。</p>
<p>上一次去还是去欣赏<code>废 (háng) 铁 (mû</code>)，瞻仰<code>先贤祠堂</code>，间隔数年，心态大不同。</p>
<p>住<code>利兹卡尔顿</code>，去临近的老<code>利顺德</code>玩，拍完照片自然要发 SNS，然后被评论“进入了游戏场景”。好吧，其实我还挺期待真正的“洋馆之旅”，全程小刀。</p>
<p><center><img src="http://daweih.github.io/images/tj1.jpg" alt="1" title="经典的复古楼梯"><br><img src="http://daweih.github.io/images/tj2.jpg" alt="2" title="大陆最早的客用电梯，铁达尼的复古感"><br><img src="http://daweih.github.io/images/tj3.jpg" alt="3" title="就差红漆来烘托气氛了"><br><img src="http://daweih.github.io/images/tj4.jpg" alt="4" title="Red Quene 的宫殿"></center></p>
<p>然后隔墙偷拍久负盛名，号称向高迪致敬，但我感觉阴气森森的瓷房子，主题自“<code>Biohazard</code>”换成“<code>Thriller</code>”，于是晚上回去复习了一下 <code>MJ</code>。</p>
<p><center><img src="http://daweih.github.io/images/tj5.jpg" alt="5" title="China House"></center></p>
<p>当然，<code>相声</code>自然是不可错过的。来，爷们亮个相；舞台质量真不错，不仅结实，而且出的这响儿附赠您心跳的。</p>
<p><center><img src="http://daweih.github.io/images/tj6.jpg" alt="6" title="万一倒了会坐死人的亮相，金鸡独立"></center></p>
<p>萌宠压轴，最后负责拉赞，黑猫警长，拜托了。</p>
<p><center><img src="http://daweih.github.io/images/tj7.jpg" alt="7" title="黑猫警长：今天吐毛日。这草咋咬不动？"><br><img src="http://daweih.github.io/images/tj8.jpg" alt="8" title="娃娃的毛被剃了"></center></p>
<p>懒散二日游，慢慢走，休闲不累，周末该如此。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/01/Looing-for-data-at-SRA/" itemprop="url">
                Looing for publicly available NGS data
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-08-01T04:24:05+08:00" content="2015-08-01">
            2015-08-01
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/profession/" itemprop="url" rel="index"><span itemprop="name">profession</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/08/01/Looing-for-data-at-SRA/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/01/Looing-for-data-at-SRA/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>最近 2 年，NGS 的成本越来越低，让研究者可以产生大量的数据，其中有很多优秀的工作，发表了高水平文章。</p>
<div align="center"><br><img src="http://daweih.github.io/images/sra.jpg"><br></div>

<h3 id="主要的_NGS_原始数据库">主要的 NGS 原始数据库</h3><p>按照学术期刊的要求（比如CNS），NGS 的原始数据，在发表前一般会被上传到几个主要的数据库，包括：</p>
<ul>
<li><a href="http://www.ncbi.nlm.nih.gov/sra" target="_blank" rel="external">NCBI European Nucleotide Archive (SRA)</a></li>
<li><a href="http://www.ebi.ac.uk/ena" target="_blank" rel="external">EBI European Nucleotide Archive (ENA)</a></li>
</ul>
<p>作为期刊的读者，我们需要下载某些数据，无非是基于以下一些原因：</p>
<ul>
<li>数据基于的物种 / 组织是研究对象。通过下载公共数据而非自产，来节约研究的开支</li>
<li>对研究者发表的结果感兴趣，想进行重复或深入研究；认为发表数据的研究者有遗漏或忽略了重要的研究方向，想对其数据进入深入挖掘</li>
<li>想用数据来练手（这个动机在学生中很普遍）</li>
</ul>
<p>当然，还会有其它原因，欢迎补充。于是，如何下载呢？</p>
<h3 id="通过文章正文内的线索来寻找">通过文章正文内的线索来寻找</h3><p>这种情况下，发表的文章会直接给出数据提交到的数据库，数据的 accession。比如：</p>
<blockquote>
<p>DNA sequencing data are deposited in the <code>European Nucleotide Archive</code> (<a href="http://www.ebi.ac.uk/ena/" target="_blank" rel="external">http://www.ebi.ac.uk/ena/</a>) under <u style="color:darkred"><code>accession numbers</code> ERP001143, ERP000729 and ERP000106.</u> De novo assembly and genome annotation of wild rice W1943, the genotype dataset of 1,529 rice accessions and the imputed dataset of 446 O. rufipogon accessions for GWAS are available at the Rice Haplotype Map Project database (<a href="http://www.ncgr.ac.cn/RiceHap3" target="_blank" rel="external">http://www.ncgr.ac.cn/RiceHap3</a>). [1]</p>
</blockquote>
<p>再比如：</p>
<blockquote>
<p>Accession codes. Raw sequences have been deposited in the EBI European Nucleotide Archive with <u style="color:darkred">accession number ERP000729 for worldwide rice germplasm (330 worldwide rice accessions: ERS037511–ERS037840)</u> and with accession number ERP000106 for Chinese rice landraces (100 newly added Chinese rice landraces: ERS039279–ERS039378). [2]</p>
</blockquote>
<h3 id="通过数据库的分类系统来寻找，筛选">通过数据库的分类系统来寻找，筛选</h3><p>通过关键词系统、分类系统，你可以在一个数据库，整合所有符合你研究兴趣的数据。</p>
<h3 id="通过其他信息定位">通过其他信息定位</h3><p>但很多时候，文章的作者并没有给出数据具体的存放位置，或者没有给出数据的ID。我们无法很简单地确定数据的位置，这样就要通过多方面的信息来判断。比如参考文献 [3] 就是如此。在这篇文献里，虽然没有给出具体的位置和数据的 accession，但可以参考的信息还有很多，比如：</p>
<ol>
<li>物种是 <em>Triticum aestivum</em> L. cv Chinese Spring</li>
<li>发表日期：Published 18 July 2014</li>
<li>作者单位：Department of Plant Sciences/Centre for Integrative Genetics,The Norwegian University of Life Sciences (NMBU)</li>
<li>Paired end (PE) sequencing libraries</li>
<li>HiSeq2000 (Illumina, San Diego, USA)</li>
<li>RNA was isolated and prepared for RNA-seq by using paired-end libraries with <u style="color:darkred">200–base pair inserts for 30 samples</u> with four biological replicates per cell type and time point (two replicates per room) and two additional technical replicates. Total RNA was extracted from frozen plant material using the RNeasy Lipid Tissue Mini kit (QIAGEN, Hilden, Germany; <a href="http://www.qiagen.com/applications/plant" target="_blank" rel="external">http://www.qiagen.com/applications/plant</a>). </li>
</ol>
<p>用文章的标题、物种名、技术和研究的关键词作为搜索条件，利用 google 的搜索和在数据库内的检索，定位到候选纪录。</p>
<p>通过和潜在的数据的<a href="http://www.ncbi.nlm.nih.gov/bioproject/?term=%22Genome+interplay+in+the+grain+transcriptome+of+hexaploid+bread+wheat%22" target="_blank" rel="external">基本信息</a>的比较，发现支持此数据为文章的数据：</p>
<ol>
<li>Organism:    <em>Triticum aestivum</em>, cultivar: Chinese Spring</li>
<li>Registration date: 19-Jul-2014</li>
<li>Submitted by: Department of Plant and Environmental Sciences/CIGENE, Norwegian University of Life Sciences</li>
<li>Paired end (PE) sequencing libraries</li>
<li>Illumina HiSeq 2000</li>
<li>30 samples. Total RNA was extracted from frozen plant material using the RNeasy Lipid Tissue Mini kit (QIAGEN, Hilden, Germany; <a href="http://www.qiagen.com/applications/plant" target="_blank" rel="external">http://www.qiagen.com/applications/plant</a>). Illumina TruSeq RNA Sample Preparation Kits v2</li>
</ol>
<p>上面的信息的排列，我按照一一对应做了总结。比对之后，确信这个数据和文章的对应关系。</p>
<p>之后就可以把每个 SRA 文件的取样和实验信息整理成表，和发表的文章的信息做对照（这里就开始细活了）。</p>
<h3 id="下载方法">下载方法</h3><p>SRA 数据的下载方法，推荐使用 Aspera。用法请参考<a href="http://daweih.github.io/2015/07/24/aspera-download-data-from-sra/">旧时博文</a>。对于数据量较少的，也可以使用 wget 等命令下载，但耗时较长。</p>
<h3 id="Reference">Reference</h3><ol>
<li><a href="http://www.ncbi.nlm.nih.gov/pubmed/?term=23034647" target="_blank" rel="external">Huang, X. et al. A map of rice genome variation reveals the origin of cultivated rice. Nature 490, 497–501 (2012).</a></li>
<li><a href="http://www.ncbi.nlm.nih.gov/pubmed/?term=20972439" target="_blank" rel="external">Huang, X. et al. Genome-wide association studies of 14 agronomic traits in rice landraces. Nat. Genet. 42, 961–967 (2010).</a></li>
<li><a href="http://www.ncbi.nlm.nih.gov/pubmed/?term=25035498" target="_blank" rel="external">Pfeifer, M. et al. Genome interplay in the grain transcriptome of hexaploid bread wheat. Science 345, 1250091–1250091 (2014).</a></li>
</ol>
<p><br></p>
<div align="center"><br><img src="http://daweih.github.io/images/wechat_small_black.jpg"><br></div></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/25/coffee-easy-to-make/" itemprop="url">
                懒人适用的咖啡具
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-07-25T14:06:27+08:00" content="2015-07-25">
            2015-07-25
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/07/25/coffee-easy-to-make/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/07/25/coffee-easy-to-make/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>原文发表于<a href="https://qdan.me/list/VUyyEZpuJz48iJfh?from=mylists" target="_blank" rel="external">轻单</a>，由于它濒死，于是转载于此。</p>
<p>作为一个咖啡爱好者，偶尔也发点非专业类的文章在这个博客。生活若完全没有了情调，人也会变得无聊吧。</p>
<hr>
<p>想享受咖啡又 (xiâng) 犯 (shêng) 懒 (qián) ？请看。</p>
<h4 id="法压壶">法压壶</h4><p>使用金属滤网。放入磨好的粉，泡上热水，压下，倒出。丢弃咖啡渣，热水冲干净即可。</p>
<div align="center"><br><img src="http://daweih.github.io/images/coffee_qdan1.jpg"><br></div>

<h4 id="摩卡壶">摩卡壶</h4><p>爱咖啡的油脂？用摩卡壶。</p>
<ul>
<li>装粉，装水，组装壶。加热，出咖啡后拆开壶清洗。</li>
<li>优点：使用金属滤网，好清洗；缺点：需要热源。</li>
</ul>
<div align="center"><br><img src="http://daweih.github.io/images/coffee_qdan2.jpg"><br></div>

<h4 id="不锈钢过滤器">不锈钢过滤器</h4><ul>
<li>优点：金属滤网好清洗；</li>
<li>缺点：萃取不能一次完成（需要多次注水来萃取），需要有个注水的壶。</li>
</ul>
<p>配一把手冲壶，还是有必要的。可有做出优秀的单品咖啡。</p>
<div align="center"><br><img src="http://daweih.github.io/images/coffee_qdan3.jpg"><br></div>

<h4 id="越南咖啡过滤器">越南咖啡过滤器</h4><p>嫌单品太苦，试试越南咖啡，配炼乳。</p>
<ul>
<li>优点：注水后等着就行了。</li>
<li>缺点：需要滤纸。</li>
</ul>
<div align="center"><br><img src="http://daweih.github.io/images/coffee_qdan4.jpg"><br></div>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/24/aspera-download-data-from-sra/" itemprop="url">
                Aspera download data from SRA
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-07-24T22:15:54+08:00" content="2015-07-24">
            2015-07-24
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/profession/" itemprop="url" rel="index"><span itemprop="name">profession</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/07/24/aspera-download-data-from-sra/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/07/24/aspera-download-data-from-sra/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h4 id="背景">背景</h4><ul>
<li><p>为什么要使用 aspera？</p>
<ul>
<li>因为测序数据迈入 NGS 时代后，通量增长很快，尤其是 NCBI SRA 的数据，单个压缩包很大，需要使用更快速的传输工具。</li>
<li>aspera 提供命令行的交互，便于管理</li>
</ul>
</li>
<li><p>aspera 比传统的 scp, wget 速度更快，同时具有命令行程序的纯文本输出特性。</p>
</li>
<li><p>aspera 还有图形界面版本，适合多种偏好的用户。</p>
</li>
</ul>
<p><a href="http://boyun.sh.cn/bio/?p=1933" target="_blank" rel="external">博耘生物说</a>:</p>
<blockquote>
<p>速铂Aspera是一套商业的高速文件传输解决方案，随着高通量数据的大量产生，从而对于大文件快速传输的需求，开始应用到生物领域，目前 NCBI、EBI 的 SRA 库都提供这样的服务。<br>…<br>一句话，远距离，大文件，Aspera 优势巨大。</p>
</blockquote>
<p>我说：</p>
<blockquote>
<p>你如果经历过使用 <code>wget</code> 下载 sra 数据要等几天几个星期，还可能断掉，就知道用下面这个黑科技有多爽了。</p>
</blockquote>
<h4 id="安装_aspera-connect：">安装 aspera-connect：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看系统的版本</span></span><br><span class="line">$ uname <span class="operator">-a</span></span><br><span class="line">*x86_64*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载对应的版本（目前测试需要翻墙）</span></span><br><span class="line">$ wget http://download.asperasoft.com/download/sw/connect/<span class="number">3.6</span>.<span class="number">0</span>/aspera-connect-<span class="number">3.6</span>.<span class="number">0.106805</span>-linux-<span class="number">64</span>.tar.gz</span><br><span class="line"></span><br><span class="line">$ gunzip aspera-connect-<span class="number">3.6</span>.<span class="number">0.106805</span>-linux-<span class="number">64</span>.tar.gz</span><br><span class="line">$ tar -xvf aspera-connect-<span class="number">3.6</span>.<span class="number">0.106805</span>-linux-<span class="number">64</span>.tar</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">$ sh aspera-connect-<span class="number">3.6</span>.<span class="number">0.106805</span>-linux-<span class="number">64</span>.sh</span><br></pre></td></tr></table></figure>
<p>安装输出结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Installing Aspera Connect</span><br><span class="line"></span><br><span class="line">Deploying Aspera Connect (/home/your_user_name/.aspera/connect) <span class="keyword">for</span> the current user only.</span><br><span class="line">Restart firefox manually to load the Aspera Connect plug-in</span><br><span class="line"></span><br><span class="line">Install complete.</span><br></pre></td></tr></table></figure>
<h4 id="修改环境变量">修改环境变量</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ vi ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加下面一行</span></span><br><span class="line"><span class="built_in">export</span> PATH=/home/your_user_name/.aspera/connect/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 环境变量生效</span></span><br><span class="line">$ <span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>
<h4 id="配置参数，测试下载">配置参数，测试下载</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># PRIVATE-KEY-FILE 文件位置</span></span><br><span class="line">~/.aspera/connect/etc/asperaweb_id_dsa.openssh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载用的命令</span></span><br><span class="line">$ ascp  -i asperaweb_id_dsa.openssh --mode recv --host ftp-private.ncbi.nlm.nih.gov --user anonftp   --file-list  sra_list.txt  -k <span class="number">1</span> -QT <span class="operator">-l</span> <span class="number">200</span>m  /path_to_save_download/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对参数的解释</span></span><br><span class="line">Usage: ascp [OPTION] SRC... DEST</span><br><span class="line">          SRC to DEST, or multiple SRC to DEST dir</span><br><span class="line">          SRC, DEST format: [[user@]host:]PATH</span><br><span class="line">  -h,--help                       Display usage</span><br><span class="line">  -A,--version                    Display version.</span><br><span class="line">  -i PRIVATE-KEY-FILE             Private-key file name (id_rsa)</span><br><span class="line">  --mode=MODE                     MODE: send, recv</span><br><span class="line">  --host=HOSTNAME</span><br><span class="line">  --user=USERNAME</span><br><span class="line">  --file-list=FILENAME            File with list of sources</span><br><span class="line">  -k RESUME-LEVEL                 Resume criterion: <span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span></span><br><span class="line">  <span class="operator">-l</span> MAX-RATE                     Max transfer rate</span><br><span class="line">  -q                              Disable progress display</span><br><span class="line">  -T                              Disable encryption</span><br><span class="line"><span class="comment"># 一般来说，你只要修改 `--file-list` `-i` 对因你自己的情况即可</span></span><br></pre></td></tr></table></figure>
<h4 id="获取下载文件地址">获取下载文件地址</h4><p>一个 <code>sra_list.txt</code> 例子:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sra/sra-instant/reads/ByRun/sra/ERR/ERR009/ERR009428/ERR009428.sra</span><br></pre></td></tr></table></figure>
<p>如何获取此地址：</p>
<ol>
<li><p>找到 <code>sra</code> 文件的页面（发表的文章一般会提供这个页面的 ID），点击红框进入下一页</p>
<p><img src="http://daweih.github.io/images/sra1.png" alt="找到sra文件的页面（发表的文章一般会提供这个页面的 ID），点击红框进入下一页"></p>
</li>
<li><p>地址栏里显示了地址，然后按照上文的 <code>sra_list.txt</code> 模式编写</p>
<p><img src="http://daweih.github.io/images/sra2.png" alt="地址栏里显示了地址，然后按照上文的 `sra_list.txt` 模式编写"></p>
</li>
</ol>
<h4 id="OS_X_如何使用？">OS X 如何使用？</h4><p>在 OS X 下，可以直接从官网下载 dmg 的安装包。安装之后，注意：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 程序的可执行文件路径</span></span><br><span class="line">/Users/your_user_name/Applications/Aspera\ Connect.app/Contents/Resources/ascp</span><br><span class="line"></span><br><span class="line"><span class="comment"># PRIVATE-KEY-FILE 文件位置</span></span><br><span class="line">/Users/your_user_name/Applications/Aspera\ Connect.app/Contents/Resources/asperaweb_id_dsa.openssh</span><br></pre></td></tr></table></figure>
<p>其他上述参数沿用。</p>
<p><br></p>
<p>最后，请欣赏华丽丽的下载速度。</p>
<p>  <img src="http://daweih.github.io/images/ascp.png" alt="ascp"></p>
<p><br></p>
<div align="center"><br><img src="http://daweih.github.io/images/wechat_small_black.jpg"><br></div></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/24/Install-and-test-bowtie-and-tophat/" itemprop="url">
                Install and test bowtie and tophat
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-07-24T16:27:11+08:00" content="2015-07-24">
            2015-07-24
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/profession/" itemprop="url" rel="index"><span itemprop="name">profession</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/07/24/Install-and-test-bowtie-and-tophat/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/07/24/Install-and-test-bowtie-and-tophat/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h3 id="Install_and_test_bowtie_and_tophat">Install and test bowtie and tophat</h3><p>注意 <code>/abs_path/filename</code> 表示存放 <code>filename</code> 文件的绝对路径。</p>
<h4 id="下载可执行程序：">下载可执行程序：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看系统的版本</span></span><br><span class="line">$ uname <span class="operator">-a</span></span><br><span class="line">*x86_64*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载</span></span><br><span class="line">$ wget http://vorboss.dl.sourceforge.net/project/bowtie-bio/bowtie2/<span class="number">2.2</span>.<span class="number">5</span>/bowtie2-<span class="number">2.2</span>.<span class="number">5</span>-linux-x86_64.zip</span><br><span class="line">$ wget http://ccb.jhu.edu/software/tophat/downloads/tophat-<span class="number">2.1</span>.<span class="number">0</span>.Linux_x86_64.tar.gz</span><br></pre></td></tr></table></figure>
<h4 id="修改环境变量">修改环境变量</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ vi ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加下面一行</span></span><br><span class="line"><span class="built_in">export</span> PATH=/abs_path/tophat-<span class="number">2.1</span>.<span class="number">0</span>.Linux_x86_64:/abs_path/bowtie2-<span class="number">2.2</span>.<span class="number">5</span>:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 环境变量生效</span></span><br><span class="line">$ <span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"></span><br><span class="line">chmod <span class="number">755</span> tophat</span><br><span class="line">chmod <span class="number">755</span> bowtie2</span><br><span class="line"><span class="comment"># 注意，所有的可执行程序，都要改为 755。否则，可能会导致 PBS 无法找到该文件</span></span><br></pre></td></tr></table></figure>
<h4 id="下载测试用数据，用_bowtie2_做_index，测试_tophat:">下载测试用数据，用 bowtie2 做 index，测试 tophat:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://ccb.jhu.edu/software/tophat/downloads/<span class="built_in">test</span>_data.zip</span><br><span class="line">$ unzip <span class="built_in">test</span>_data.zip</span><br><span class="line">$ <span class="built_in">cd</span> <span class="built_in">test</span>_data</span><br><span class="line">$ bowtie2-build /abs_path/<span class="built_in">test</span>_ref.fa /abs_path/<span class="built_in">test</span>_ref</span><br><span class="line">$ tophat /abs_path/<span class="built_in">test</span>_ref <span class="built_in">test</span>_reads.fq</span><br></pre></td></tr></table></figure>
<h4 id="Reference">Reference</h4><ul>
<li><a href="http://www.umassmed.edu/uploadedFiles/nemo/Landing_Pages/Indexing%20and%20Barcoding%20for%20Illumina%20NextGen%20Sequencing.pdf" target="_blank" rel="external">Indexing and Barcoding for Illumina NextGen Sequencing</a></li>
</ul>
<h4 id="Software">Software</h4><ul>
<li><a href="http://ccb.jhu.edu/software/tophat/index.shtml" target="_blank" rel="external">tophat</a>: <a href="http://ccb.jhu.edu/software/tophat/downloads/test_data.zip" target="_blank" rel="external">test_data_set</a></li>
<li><a href="http://bowtie-bio.sourceforge.net/index.shtml" target="_blank" rel="external">bowtie</a></li>
</ul>
<p><br></p>
<div align="center"><br><img src="http://daweih.github.io/images/wechat_small_black.jpg"><br></div>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/23/uniprot-how-to-1/" itemprop="url">
                UNIPROT How-To series
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-07-23T11:13:40+08:00" content="2015-07-23">
            2015-07-23
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/profession/" itemprop="url" rel="index"><span itemprop="name">profession</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/07/23/uniprot-how-to-1/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/07/23/uniprot-how-to-1/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>今天师弟问了一个问题：</p>
<blockquote>
<p>由于 rab-db 提供的水稻 loc ID 和 Os ID 的转换服务不能用了，有没有其他资源可以提供 ID 转化呢？</p>
</blockquote>
<p>我答：</p>
<blockquote>
<p>可以使用 uniprot 整理好的 ID。从下载的 uniprot text 的 OrderedLocusNames 属性提取。</p>
</blockquote>
<p>其实，这只是 uniprot 数据库的一个简单的应用。作为世界最大的蛋白质数据库，uniprot 可是说是 biocuration 工作的集大成者。我觉得有必要写一个系列来讲讲 uniprot 的各种有趣的用处。本文作为这个系列的第一篇。</p>
<p><a href="http://wikipedia.org" target="_blank" rel="external">Mr.Wiki</a> 说：</p>
<blockquote>
<p>UniProt is a <code>comprehensive</code>, <code>high-quality</code> and <code>freely accessible</code> database of protein sequence and functional information, many entries being derived from <code>genome sequencing projects</code>. It contains a large amount of information about the biological function of proteins derived from the<code>research literature</code>.</p>
</blockquote>
<p>作为一个 uniprot 的老用户，个人认为三大特性当之无愧：</p>
<ul>
<li>comprehensive: 自动化的流程对多个数据库资源的深度整合（有没有百宝箱的感觉？）</li>
<li>high-quality: 进行了大量的人工校正</li>
<li>freely accessible</li>
</ul>
<p>uniprot 的最大亮点还在于 research literature 的文献挖掘。这点让大量的文献标准化，从而可以被标准化地分析利用。</p>
<p><br></p>
<h4 id="UNIPROT_的数据格式">UNIPROT 的数据格式</h4><p><br><br><center>–To be continued–</center></p>
<p><br></p>
<div align="center"><br><img src="http://daweih.github.io/images/wechat_small_black.jpg"><br></div></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/22/reading-note-sapiens/" itemprop="url">
                Reading note: Sapiens
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-07-22T20:09:06+08:00" content="2015-07-22">
            2015-07-22
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/reading/" itemprop="url" rel="index"><span itemprop="name">reading</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/07/22/reading-note-sapiens/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/07/22/reading-note-sapiens/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><div align="center"><br><img src="http://daweih.github.io/images/sapiens.jpg"><br></div>

<p>已经不记得从来里看到的这本书的介绍。后来这本书成了我和爱人一起读的第一本书，却也是在我们最忙的时候（搬到新的城市，换工作，开始城铁通勤生活）读的一本。我陆陆续续的批注，攒成这个札记。</p>
<div align="center"><br><iframe scrolling="value" src="http://daweih.github.io/js/sapiens.html/index.html" width="90%" height="550px" frameborder="0"></iframe><br></div>

<h3 id="第一部_分认知革命">第一部 分认知革命</h3><h4 id="第一章_人类：一种也没什么特别的动物">第一章 人类：一种也没什么特别的动物</h4><p><br></p>
<blockquote>
<p>在历史的路上，有三大重要革命：大约7万年前，“认知革命”（Cognitive Revolution）让历史正式启动。大约12000年前，“农业革命”（Agricultural Revolution）让历史加速发展。而到了大约不过是500年前，“科学革命”（Scientific Revolution）可以说是让历史画下句点而另创新局。</p>
</blockquote>
<p>人类的三次重要革命（伟大的 XX 革命根本排不上号）：</p>
<ul>
<li>Cognitive Revolution</li>
<li>Agricultural Revolution</li>
<li>Scientific Revolution</li>
</ul>
<p><br></p>
<blockquote>
<p>这点对妇女来说造成的负担更大。直立的步行方式需要让臀部变窄，于是产道宽度受限，而且别忘了婴儿的头还越来越大。于是，分娩死亡成了女性的一大风险。</p>
</blockquote>
<p>所以，<code>剖腹产</code>是一种变相的人工进化吗？</p>
<p><br></p>
<blockquote>
<p>其他在金字塔顶端的动物（例如狮子、鲨鱼）得要花上好几百万年的时间，才终于通过演化站上顶峰。因此<code>生态系统有时间发展出种种制衡</code>，避免狮子和鲨鱼造成太大的破坏。<br>……<br>但相比之下，智人就像是个香蕉共和国的独裁者。我们在不久之前，还是大草原上的小可怜，整天充满恐惧和焦虑，但这也让人类更加残酷和危险。人类历史上众多的<code>灾难</code>，不论是<code>生灵涂炭的战乱</code>还是<code>生态遭逢的浩劫</code>，其实都是源自这场过于<code>仓促的地位跳跃</code>。</p>
</blockquote>
<p>人类就是地球的癌症，这是《骇客帝国》里 Agent Smith 的台词。</p>
<p>此外，人类还是一种特别自恋的动物。</p>
<p>制衡这个词在这里颇有些将自然界比拟为“生命共和国”的意味，为了所有生物共同的福祉，地球生态系统一直在默默地平衡各方的利害关系。但从本质思考，这个世界是繁荣还是荒芜，地球一样继续运转；所谓的和谐还是破坏，都是人类自己的价值吧。</p>
<p><br></p>
<blockquote>
<p>毕竟，<code>宽容</code>可不是智人的特色。即使到了现代，不过是因为<code>肤色</code>、<code>方言</code>、<code>宗教</code>等等微小的差异，就足以让智人彼此大动干戈、非要把对方赶尽杀绝。<br>…<br>很有可能，当<code>智人</code>碰上<code>尼安德特人</code>的时候，就发生了史上第一次也是最严重的一次<code>种族净化运动</code>。</p>
</blockquote>
<p>同种 (<em>Species</em>) 相残的动物本性在史书中的记录血迹斑斑，更何况同属 (<em>Genus</em>)。</p>
<p><br></p>
<h4 id="第二章_知善恶树">第二章 知善恶树</h4><p><br></p>
<blockquote>
<p>大约就是在距今<code>7万到3万年前</code>，出现了新的思维和沟通方式，这也正是所谓的<code>认知革命</code>。<br>…<br>得到普遍认可的理论认为，某次偶然的基因突变，改变了智人的大脑内部连接方式，让他们以前所未有的方式来思考，用完全新式的语言来沟通。<br>…<br>为什么这只发生在智人的DNA里，而没有发生在尼安德特人的DNA里？我们现在只能说这就是<code>纯粹的偶然</code>。</p>
</blockquote>
<p>在演化 (evolution) 的历史中，充满了偶然；从生命史的视角，从来就没有什么“历史的必然”。</p>
<p><br><br><center>–To be continued–</center></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/22/pm-collection/" itemprop="url">
                Perl module collection (不定期更新)
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          Posted on
          <time itemprop="dateCreated" datetime="2015-07-22T15:18:08+08:00" content="2015-07-22">
            2015-07-22
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; In
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/profession/" itemprop="url" rel="index"><span itemprop="name">profession</span></a></span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2015/07/22/pm-collection/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2015/07/22/pm-collection/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>收集我用过的 Perl module，写一些简单的用法。</p>
<p>对比较有趣的包，有复杂的用法会单独写文章。</p>
<h4 id="Parser">Parser</h4><ul>
<li><a href="http://sourceforge.net/projects/swissknife/?source=navbar" target="_blank" rel="external">swissknife</a>: <code>uniprot</code></li>
<li>Bio::TreeIO</li>
<li>Bio::Phylo::IO</li>
</ul>
<h4 id="Data_and_debug">Data and debug</h4><ul>
<li>Data::Dumper</li>
</ul>
<h4 id="Other">Other</h4><ul>
<li>SVG::Convert</li>
</ul>
<p><br></p>
<div align="center"><br><img src="http://daweih.github.io/images/wechat_small_black.jpg"><br></div></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">&raquo;</a>
  </nav>


            </div>

            

            
        </div>

        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="Dawei Huang" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Dawei Huang</p>
        </div>
        <p class="site-description motion-element" itemprop="description">Dawei 的记事本</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">24</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">categories</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">45</span>
              <span class="site-state-item-name">tags</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="menu-item-icon icon-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/daweih" target="_blank">github</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/daweimhuang" target="_blank">facebook</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/daweihuang" target="_blank">twitter</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.douban.com/people/4878302/" target="_blank">douban</a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
              <a href="http://ic4r.org 水稻数据库" target="_blank">IC4R</a>
              </span>
            
              <span class="links-of-author-item">
              <a href="http://cat.big.ac.cn" target="_blank">Cloud CAT</a>
              </span>
            
          
        </div>

      </section>

      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
        <div class="footer-inner">
            
<div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dawei Huang</span>
</div>

<div class="powered-by">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">Accessed <span id="busuanzi_value_site_pv"></span> times. </span>
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



        </div>
    </footer>

    <div class="back-to-top"></div>
</div>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"daweih"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	  <script type="text/javascript">
  		var duoshuo_user_ID = daweih
  	  </script>
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.4"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.4"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.4" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>



<script type="text/javascript">
    $(document).ready(function () {
        if (CONFIG.sidebar === 'always') {
            displaySidebar();
        }
    });
</script>




  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"daweih"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	  <script type="text/javascript">
  		var duoshuo_user_ID = daweih
  	  </script>
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

  





<!-- lazyload -->
<script type="text/javascript" src="/js/lazyload.js"></script>
<script type="text/javascript">
    jQuery(function () {
        jQuery("#posts img").lazyload({
            placeholder: "/images/loading.gif",
            effect: "fadeIn"
        });
    });
</script>
</body>
</html>
